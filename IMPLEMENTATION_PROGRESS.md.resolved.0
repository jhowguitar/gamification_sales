# üéØ IMPLEMENTA√á√ÉO DO SISTEMA DE GAMIFICA√á√ÉO

## ‚úÖ CONCLU√çDO (PASSO 1):

### 1. Banco de Dados Atualizado
- ‚úÖ Adicionado campo `level` (STAR, PRO, ELITE) aos usu√°rios
- ‚úÖ Adicionado campo `avatarSticker` (1-8) para os emojis
- ‚úÖ Adicionado `totalCommission` e `totalSales` para tracking
- ‚úÖ Adicionados campos de Closer em [MetricEntry](file:///Users/clovisalves/.gemini/antigravity/brain/5800c1ee-9bec-4517-88d2-6647121b859e/sales-gamification/lib/db.ts#50-63) (clientName, saleValue, etc.)
- ‚úÖ Adicionado campo `commission` calculada em [MetricEntry](file:///Users/clovisalves/.gemini/antigravity/brain/5800c1ee-9bec-4517-88d2-6647121b859e/sales-gamification/lib/db.ts#50-63)
- ‚úÖ Config atualizada com valores por n√≠vel:
  - SDR Star: R$ 5 (show) / R$ 15 (qualificado)
  - SDR Pro: R$ 10 (show) / R$ 20 (qualificado)
  - SDR Elite: R$ 15 (show) / R$ 25 (qualificado)
  - Closer Bonuses: 10%, 20%, 25%, 35%

### 2. Sistema de C√°lculo Criado
- ‚úÖ [lib/gamification.ts](file:///Users/clovisalves/.gemini/antigravity/brain/5800c1ee-9bec-4517-88d2-6647121b859e/sales-gamification/lib/gamification.ts) com todas as fun√ß√µes:
  - [calculateSDRLevel()](file:///Users/clovisalves/.gemini/antigravity/brain/5800c1ee-9bec-4517-88d2-6647121b859e/sales-gamification/lib/gamification.ts#18-26) - calcula n√≠vel baseado em comiss√£o
  - [calculateCloserLevel()](file:///Users/clovisalves/.gemini/antigravity/brain/5800c1ee-9bec-4517-88d2-6647121b859e/sales-gamification/lib/gamification.ts#27-35) - calcula n√≠vel baseado em vendas
  - [calculateSDRCommission()](file:///Users/clovisalves/.gemini/antigravity/brain/5800c1ee-9bec-4517-88d2-6647121b859e/sales-gamification/lib/gamification.ts#36-65) - calcula comiss√£o por n√≠vel
  - [calculateCloserBonus()](file:///Users/clovisalves/.gemini/antigravity/brain/5800c1ee-9bec-4517-88d2-6647121b859e/sales-gamification/lib/gamification.ts#66-76) - calcula b√¥nus percentual
  - [getLevelName()](file:///Users/clovisalves/.gemini/antigravity/brain/5800c1ee-9bec-4517-88d2-6647121b859e/sales-gamification/lib/gamification.ts#90-101), [getLevelColor()](file:///Users/clovisalves/.gemini/antigravity/brain/5800c1ee-9bec-4517-88d2-6647121b859e/sales-gamification/lib/gamification.ts#102-113), [getLevelIcon()](file:///Users/clovisalves/.gemini/antigravity/brain/5800c1ee-9bec-4517-88d2-6647121b859e/sales-gamification/lib/gamification.ts#114-125) - helpers UI

### 3. Componente de Avatar
- ‚úÖ 8 stickers criados:
  1. üòé √ìculos Escuros
  2. ü§ë Cifr√µes nos Olhos
  3. üòÅ Sorriso Grande
  4. üí∞ Segurando Dinheiro
  5. üéâ Comemorando
  6. ‚ö° Raio
  7. üèÜ Trof√©u
  8. üöÄ Foguete
- ‚úÖ Componente [AvatarSticker](file:///Users/clovisalves/.gemini/antigravity/brain/5800c1ee-9bec-4517-88d2-6647121b859e/sales-gamification/components/ui/avatar-sticker.tsx#18-42) para exibir
- ‚úÖ Componente [AvatarSelector](file:///Users/clovisalves/.gemini/antigravity/brain/5800c1ee-9bec-4517-88d2-6647121b859e/sales-gamification/components/ui/avatar-sticker.tsx#48-79) para escolher

---

## üîÑ PR√ìXIMOS PASSOS:

### PASSO 2: Atualizar APIs
- [ ] `/api/metricas` - calcular comiss√£o e n√≠vel automaticamente ao salvar
- [ ] `/api/metricas` - atualizar `totalCommission` e `totalSales` do usu√°rio
- [ ] `/api/user/profile` - permitir alterar nome e avatar
- [ ] `/api/user/level` - endpoint para buscar n√≠vel atual

### PASSO 3: Atualizar Dashboards
- [ ] Separar completamente SDR e Closer (permiss√µes por login)
- [ ] SDR v√™ APENAS painel SDR
- [ ] Closer v√™ APENAS painel Closer
- [ ] Exibir n√≠vel atual do usu√°rio (Star/Pro/Elite)
- [ ] Mostrar avatar sticker do usu√°rio

### PASSO 4: P√°gina de Perfil
- [ ] Criar `/dashboard/perfil`
- [ ] Permitir alterar nome
- [ ] Selector de 8 stickers
- [ ] Exibir n√≠vel atual
- [ ] Exibir total de comiss√£o/vendas do m√™s

### PASSO 5: Ranking Moderno
- [ ] Criar `/dashboard/ranking`
- [ ] Separar "Ranking SDR" e "Ranking Closer"
- [ ] Design extremamente visual e moderno
- [ ] Exibir n√≠vel de cada usu√°rio
- [ ] Cores e √≠cones por n√≠vel
- [ ] Anima√ß√µes e efeitos visuais

### PASSO 6: Configura√ß√µes Din√¢micas
- [ ] Atualizar `/dashboard/admin`
- [ ] Campos para editar valores por n√≠vel
- [ ] Atualiza√ß√£o em tempo real no dashboard
- [ ] Salvar no banco automaticamente

### PASSO 7: Hist√≥rico Mensal
- [ ] Filtro por m√™s/ano
- [ ] Usu√°rio v√™ apenas seu hist√≥rico
- [ ] CEO v√™ todos
- [ ] Exibir comiss√£o calculada
- [ ] Exibir n√≠vel na √©poca

---

## üìä REGRAS DE GAMIFICA√á√ÉO:

### SDR:
- **Star**: at√© R$ 2.500 ‚Üí R$ 5/show + R$ 15/qualificado
- **Pro**: at√© R$ 5.000 ‚Üí R$ 10/show + R$ 20/qualificado
- **Elite**: at√© R$ 10.000 ‚Üí R$ 15/show + R$ 25/qualificado

### Closer:
- **Star**: at√© 30k em vendas
- **Pro**: 30k - 50k em vendas
- **Elite**: acima de 50k em vendas

**B√¥nus Closer:**
- Acima de 30k: +10%
- Acima de 45k: +20%
- Acima de 50k: +25%
- Acima de 65k: +35%

---

## üé® DESIGN REQUIREMENTS:

- Layout extremamente moderno e visual
- Cores por n√≠vel (azul/roxo/dourado)
- Anima√ß√µes suaves
- √çcones e emojis
- Cards com gradientes
- Efeitos hover
- Responsivo

---

**STATUS GERAL: 30% CONCLU√çDO**

Pr√≥ximo: Atualizar APIs para calcular automaticamente.
